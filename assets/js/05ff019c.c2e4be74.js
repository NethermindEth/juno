"use strict";(self.webpackChunkjuno_docs=self.webpackChunkjuno_docs||[]).push([[4535],{4269:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>h});var s=t(4848),a=t(8453);const o={title:"Database Snapshots"},r="Database Snapshots :camera_flash:",i={id:"snapshots",title:"Database Snapshots",description:"You can download a snapshot of the Juno database to reduce the network syncing time. Only the blocks created after the snapshot will be synced when you run the node. Fresh snapshots are automatically uploaded once a week and are available under the links below.",source:"@site/versioned_docs/version-0.15.0/snapshots.md",sourceDirName:".",slug:"/snapshots",permalink:"/snapshots",draft:!1,unlisted:!1,tags:[],version:"0.15.0",frontMatter:{title:"Database Snapshots"},sidebar:"main",previous:{title:"Monitoring Juno",permalink:"/monitoring"},next:{title:"Frequently Asked Questions",permalink:"/faq"}},d={},h=[{value:"Getting snapshot sizes",id:"getting-snapshot-sizes",level:2},{value:"Run Juno with a snapshot",id:"run-juno-with-a-snapshot",level:2},{value:"1. Prepare a directory",id:"1-prepare-a-directory",level:3},{value:"2. Install zstd",id:"2-install-zstd",level:3},{value:"3. Download and extract",id:"3-download-and-extract",level:3},{value:"1. Download the snapshot",id:"1-download-the-snapshot",level:5},{value:"2. Extract the snapshot",id:"2-extract-the-snapshot",level:5},{value:"Alternative method: Stream the snapshot directly",id:"alternative-method-stream-the-snapshot-directly",level:4},{value:"Running Juno with snapshots",id:"running-juno-with-snapshots",level:2},{value:"1. Run Juno",id:"1-run-juno",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"database-snapshots-camera_flash",children:["Database Snapshots ","\ud83d\udcf8"]}),"\n",(0,s.jsx)(n.p,{children:"You can download a snapshot of the Juno database to reduce the network syncing time. Only the blocks created after the snapshot will be synced when you run the node. Fresh snapshots are automatically uploaded once a week and are available under the links below."}),"\n",(0,s.jsxs)(n.p,{children:["Snapshots are provided in a compressed ",(0,s.jsx)(n.code,{children:".tar.zst"})," format for faster downloads and reduced storage requirements. It also allows you to directly stream the decompressed file to your computer without needing to download it first."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Network"}),(0,s.jsx)(n.th,{children:"Version"}),(0,s.jsx)(n.th,{children:"Download Link"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Mainnet"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:">=v0.13.0"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://juno-snapshots.nethermind.io/files/mainnet/latest",children:(0,s.jsx)(n.strong,{children:"juno_mainnet.tar.zst"})})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Sepolia"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:">=v0.13.0"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://juno-snapshots.nethermind.io/files/sepolia/latest",children:(0,s.jsx)(n.strong,{children:"juno_sepolia.tar.zst"})})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Sepolia-Integration"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:">=v0.13.0"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://juno-snapshots.nethermind.io/files/sepolia-integration/latest",children:(0,s.jsx)(n.strong,{children:"juno_sepolia_integration.tar.zst"})})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"getting-snapshot-sizes",children:"Getting snapshot sizes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$date\nTue Aug 26 11:00:52 WEST 2025\n\n$curl -s -I -L https://juno-snapshots.nethermind.io/files/mainnet/latest | gawk -v IGNORECASE=1 '/^Content-Length/ { printf \"%.2f GB\\n\", $2/1024/1024/1024 }'\n195.13 GB\n\n$curl -s -I -L https://juno-snapshots.nethermind.io/files/sepolia/latest | gawk -v IGNORECASE=1 '/^Content-Length/ { printf \"%.2f GB\\n\", $2/1024/1024/1024 }'\n32.84 GB\n\n$curl -s -I -L https://juno-snapshots.nethermind.io/files/sepolia-integration/latest | gawk -v IGNORECASE=1 '/^Content-Length/ { printf \"%.2f GB\\n\", $2/1024/1024/1024 }'\n7.33 GB\n"})}),"\n",(0,s.jsx)(n.h2,{id:"run-juno-with-a-snapshot",children:"Run Juno with a snapshot"}),"\n",(0,s.jsx)(n.p,{children:"This method downloads and extracts the snapshot in one step without requiring double disk space:"}),"\n",(0,s.jsx)(n.h3,{id:"1-prepare-a-directory",children:"1. Prepare a directory"}),"\n",(0,s.jsxs)(n.p,{children:["Ensure you have a directory to store the snapshots. We will use the ",(0,s.jsx)(n.code,{children:"$HOME/snapshots"})," directory:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir -p $HOME/snapshots\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-install-zstd",children:"2. Install zstd"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/facebook/zstd",children:"zstd (Zstandard)"})," is required to decompress and directly stream the snapshots into your system without requiring temporary storage. ",(0,s.jsx)(n.code,{children:"zstd"})," provides significantly better compression ratios and faster decompression speeds compared to traditional tar compression."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# On Ubuntu/Debian\nsudo apt-get install zstd\n\n# On macOS\nbrew install zstd\n\n# On RHEL/CentOS/Fedora\nsudo dnf install zstd  # or yum install zstd\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-download-and-extract",children:"3. Download and extract"}),"\n",(0,s.jsxs)(n.p,{children:["Two-step approach where we first download the snapshot and extract it later. Note that this will create the requirement to have twice the space required for the Juno snapshot. If space is not enough you can always try the ",(0,s.jsx)(n.strong,{children:"alternative method"})," below."]}),"\n",(0,s.jsx)(n.h5,{id:"1-download-the-snapshot",children:"1. Download the snapshot"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# For Mainnet\nwget --continue -O "$HOME/snapshots/juno_mainnet.tar.zst" https://juno-snapshots.nethermind.io/files/mainnet/latest\n\n\n# Or using curl\ncurl -L -C - -o $HOME/snapshots/juno_mainnet.tar.zst https://juno-snapshots.nethermind.io/files/mainnet/latest\n'})}),"\n",(0,s.jsx)(n.h5,{id:"2-extract-the-snapshot",children:"2. Extract the snapshot"}),"\n",(0,s.jsxs)(n.p,{children:["Create a subfolder inside ",(0,s.jsx)(n.code,{children:"$HOME/snapshots"})," where to unzip the downloaded snapshot:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# For Mainnet\nmkdir $HOME/snapshots/mainnet/\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Extract to your snapshots directory\nzstd -d juno_mainnet.tar.zst -c | tar -xvf - -C $HOME/snapshots/mainnet\n"})}),"\n",(0,s.jsx)(n.h4,{id:"alternative-method-stream-the-snapshot-directly",children:"Alternative method: Stream the snapshot directly"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Streaming can become unreliable if the network conditions are not extremely good, requiring multiple restarts. Resort to this if disk space is at a premium."})}),"\n",(0,s.jsxs)(n.p,{children:["Create a subfolder inside ",(0,s.jsx)(n.code,{children:"$HOME/snapshots"})," where to stream the download:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# For Mainnet\nmkdir $HOME/snapshots/mainnet/\n"})}),"\n",(0,s.jsx)(n.p,{children:"Download and extract the snapshot directly to your target directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# For Mainnet\ncurl -s -L https://juno-snapshots.nethermind.io/files/mainnet/latest \\\n| zstd -d | tar -xvf - -C $HOME/snapshots/mainnet\n"})}),"\n",(0,s.jsx)(n.p,{children:"For other networks, replace the URL with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sepolia"}),": ",(0,s.jsx)(n.code,{children:"https://juno-snapshots.nethermind.io/files/sepolia/latest"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sepolia-Integration"}),": ",(0,s.jsx)(n.code,{children:"https://juno-snapshots.nethermind.io/files/sepolia-integration/latest"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"running-juno-with-snapshots",children:"Running Juno with snapshots"}),"\n",(0,s.jsx)(n.h3,{id:"1-run-juno",children:"1. Run Juno"}),"\n",(0,s.jsx)(n.p,{children:"Run the Docker command to start Juno:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name juno \\\n  -p 6060:6060 \\\n  -v $HOME/snapshots/mainnet:/var/lib/juno \\\n  nethermind/juno \\\n  --http \\\n  --http-port 6060 \\\n  --http-host 0.0.0.0 \\\n  --db-path /var/lib/juno \\\n  --eth-node <YOUR-ETH-NODE>\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"<YOUR-ETH-NODE>"})," with your Ethereum node WebSocket URL (e.g., ",(0,s.jsx)(n.code,{children:"wss://mainnet.infura.io/ws/v3/your-project-id"}),"). Ensure you use the WebSocket URL (",(0,s.jsx)(n.code,{children:"ws"}),"/",(0,s.jsx)(n.code,{children:"wss"}),") instead of the HTTP URL (",(0,s.jsx)(n.code,{children:"http"}),"/",(0,s.jsx)(n.code,{children:"https"}),")."]})})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var s=t(6540);const a={},o=s.createContext(a);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);